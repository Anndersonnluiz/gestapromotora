<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<ui:composition template="/pages/templates/padrao.xhtml">
	<ui:define name="corpo">
		<br />
		<h4>Cadastro de Contrato</h4>
		<hr />
		<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
			closable="false" resizable="false" showHeader="false">
			<img src="../../resources/img/novoCarregando.gif" width="130" />
		</p:dialog>
		<p:messages id="growl" showDetail="true" sticky="false" life="3000"
			closable="true" />
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="usuario">Corretor</label>
				<h:selectOneMenu id="usuario" style="width: 100%;" immediate="true"
					value="#{cadContratoMB.usuario}" converter="UsuarioConverter"
					styleClass="form-control" onchange="usuario"
					disabled="#{cadContratoMB.habilitarUsuario}">
					<f:selectItem itemLabel="Selecione" itemValue="0"
						noSelectionOption="true" />
					<f:selectItems value="#{cadContratoMB.listaUsuario}"
						var="usuarioSelecionado" itemLabel="#{usuarioSelecionado.nome}"
						itemValue="#{usuarioSelecionado}" />
					<f:attribute name="listaUsuario"
						value="#{cadContratoMB.listaUsuario}" />
				</h:selectOneMenu>
			</div>
			<div class="form-group col-md-4">
				<label for="dataNasc">Assinado no banco ?</label>
				<div>
					<p:selectBooleanCheckbox
						value="#{cadContratoMB.contrato.assinadobanco}" />
				</div>

			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md-4">
				<label for="orgaobanco">Orgão</label>
				<h:selectOneMenu id="orgaobanco" style="width: 100%;"
					value="#{cadContratoMB.orgaoBanco}" converter="OrgaoBancoConverter"
					styleClass="form-control">
					<f:selectItem itemLabel="Selecione" itemValue="0"
						noSelectionOption="true" />
					<f:selectItems value="#{cadContratoMB.listaOrgaoBanco}"
						var="orgaoBancoSelecionado"
						itemLabel="#{orgaoBancoSelecionado.nome}"
						itemValue="#{orgaoBancoSelecionado}" />
					<f:attribute name="listaOrgao"
						value="#{cadContratoMB.listaOrgaoBanco}" />
				</h:selectOneMenu>
			</div>
			<div class="form-group col-md-6">
				<label for="inputRG">Tipo de Operação</label>
				<h:inputText
					value="#{cadContratoMB.contrato.tipooperacao.descricao}"
					style="border-color:black;" disabled="true" class="form-control"
					placeholder="Operação" />
			</div>
		</div>
		<div class="form-row">
			<h:panelGroup
				rendered="#{usuarioLogadoMB.usuario.tipocolaborador.acessocolaborador.acessooperacional}">
				<div class="form-group col-md-6">
					<label for="promotora">Promotora</label>
					<h:selectOneMenu id="promotorahhhj" style="width: 100%;"
						immediate="true" value="#{cadContratoMB.promotora}"
						converter="PromotoraConverter" styleClass="form-control">
						<f:selectItem itemLabel="Selecione" itemValue="0"
							noSelectionOption="true" />
						<f:selectItems value="#{cadContratoMB.listaPromotora}"
							var="promotoraSelecionado"
							itemLabel="#{promotoraSelecionado.descricao}"
							itemValue="#{promotoraSelecionado}" />
						<f:attribute name="listaPromotora"
							value="#{cadContratoMB.listaPromotora}" />
						<p:ajax event="blur" />
					</h:selectOneMenu>
				</div>
			</h:panelGroup>
		</div>
		<br />
		<h6>Secretaria</h6>
		<hr />

		<div class="form-row">
			<h:panelGroup rendered="#{!cadContratoMB.contrato.operacaoinss}">
				<div class="form-group col-md-4">
					<label for="secretaria">Secretaria</label>
					<h:inputText value="#{cadContratoMB.contrato.secretaria}"
						style="border-color:black;" class="form-control" id="secretaria"
						placeholder="Nome" />
				</div>
			</h:panelGroup>
			<h:panelGroup rendered="#{cadContratoMB.contrato.operacaoinss}">
				<div class="form-group col-md-12">
					<label>Espécie Beneficio</label>
					<h:selectOneMenu style="width: 100%;border-color:black;"
						id="especieBeneficio" value="#{cadContratoMB.contrato.secretaria}"
						styleClass="form-control">
						<f:selectItem itemLabel="1- Por Morte de Trabalho Rurale"
							itemValue="1" />
						<f:selectItem
							itemLabel="2- Pensão Por Morte Acidente Do Trabalho do Trabalhador Rural"
							itemValue="2" />
						<f:selectItem itemLabel="3- Pensão Por Morte do Empregador Rural"
							itemValue="3" />
						<f:selectItem itemLabel="4- Por Invalidez do Trabalhador Rural"
							itemValue="4" />
						<f:selectItem
							itemLabel="5- Aposentadoria por Invalidez, Por Acidente do Trabalhador Rural"
							itemValue="5" />
						<f:selectItem itemLabel="6- Por Invalidez do Trabalhador Rural"
							itemValue="6" />
						<f:selectItem itemLabel="7- Por Idade do Trabalhador Rural"
							itemValue="7" />
						<f:selectItem itemLabel="8- Por Idade do Empregador Rural"
							itemValue="8" />
						<f:selectItem itemLabel="19- Pensão De Estudante (Lei 7004/82)"
							itemValue="19" />
						<f:selectItem itemLabel="20- Pensão Por Morte de ex-diplomata"
							itemValue="20" />
						<f:selectItem itemLabel="21- Por Morte Previdenciária (LOPS)"
							itemValue="21" />
						<f:selectItem itemLabel="22- Por Morte Estatutária (EPU)"
							itemValue="22" />
						<f:selectItem itemLabel="23- Por Morte de ex Combatente"
							itemValue="23" />
						<f:selectItem itemLabel="23- Por Morte de ex Combatente"
							itemValue="23" />
						<f:selectItem itemLabel="24- Pensão Especial (Ato Institucional)"
							itemValue="24" />
						<f:selectItem itemLabel="26- Pensão Especia (Lei 593/48) (EPU))"
							itemValue="26" />
						<f:selectItem
							itemLabel="27- Por Morte do Servidor Público Federal Com Dupla Aposentadoria"
							itemValue="27" />
						<f:selectItem
							itemLabel="28- Por Morte, do Regime Geral (Decreto 20465/31)"
							itemValue="28" />
						<f:selectItem
							itemLabel="29- Por Morte de ex Combatente Maritímo (Lei 1756/52)"
							itemValue="29" />
						<f:selectItem itemLabel="32- Por Invalidez Previdenciária (LOPS)"
							itemValue="32" />
						<f:selectItem itemLabel="33- Por Invalidez de Aeronauta"
							itemValue="33" />
						<f:selectItem
							itemLabel="34- Por Invalidez de ex Combatente Marítimo (Lei 1.756/52)"
							itemValue="34" />
						<f:selectItem
							itemLabel="37- Aponsentadoria de Extranumerário da União (EPU)"
							itemValue="37" />
						<f:selectItem itemLabel="38- Aposentadoria da extinta CAPIN (EPU)"
							itemValue="38" />
						<f:selectItem itemLabel="41- Por Idade (LOPS))" itemValue="41" />
						<f:selectItem
							itemLabel="42- Por Tempo de Contribuição Previdenciária"
							itemValue="42" />
						<f:selectItem
							itemLabel="43- Por Tempo de Contribuição de ex Combatente"
							itemValue="43" />
						<f:selectItem
							itemLabel="44- Por Tempo de Contribuição de Aeronauta"
							itemValue="44" />
						<f:selectItem
							itemLabel="45- Por Tempo de Contribuição de Jornalista Profissional"
							itemValue="45" />
						<f:selectItem itemLabel="46- Por Tempo de Contribuição Especial"
							itemValue="46" />
						<f:selectItem itemLabel="49- Por Tempo de Contribuição Ordinária"
							itemValue="49" />
						<f:selectItem
							itemLabel="51- Por Aposentadoria Por Invalidez (Extinto Plano Básico)"
							itemValue="51" />
						<f:selectItem itemLabel="52- Por Idade (Extinto Plano Básico)"
							itemValue="52" />
						<f:selectItem
							itemLabel="54- Pensão Especial Vitalícia (Lei 9793/99) (EPU))"
							itemValue="54" />
						<f:selectItem itemLabel="55- Por Morte (Extinto Plano Básico)"
							itemValue="55" />
						<f:selectItem
							itemLabel="56- Pensão Mensal Vitalícia por Síndrome de Talidomida (Lei 7070/82)"
							itemValue="56" />
						<f:selectItem
							itemLabel="57- Por Tempo de Contribuição de Professores (EC/CF 18/81)"
							itemValue="57" />
						<f:selectItem
							itemLabel="58- Aposentadoria Excepcional do Anistiado (Lei 6683/79) (EPU)"
							itemValue="58" />
						<f:selectItem
							itemLabel="59- Por Morte Excepcional do Anistiado (Lei 6683/79) (EPU)"
							itemValue="59" />
						<f:selectItem
							itemLabel="60- Pensão Especial Mensal Vitalícia (Lei 10.923/04)"
							itemValue="60" />
						<f:selectItem
							itemLabel="72- Por Tempo de Contribuição de ex Combatente Marítimo (Lei 1756/52)"
							itemValue="72" />
						<f:selectItem
							itemLabel="78- Por Idade de ex Combatente Marítimo (Lei 1.756/52)"
							itemValue="78" />
						<f:selectItem itemLabel="81- Por Idade Compulsória (Ex-Sasse)"
							itemValue="81" />
						<f:selectItem itemLabel="82- Por Tempo de Contribuição (Ex-Sasse)"
							itemValue="82" />
						<f:selectItem
							itemLabel="83- Aposentadoria por Invalidez (Ex-Sasse)"
							itemValue="83" />
						<f:selectItem itemLabel="84- Por Morte (Ex-Sasse)" itemValue="84" />
						<f:selectItem
							itemLabel="89- Pensão Especial Aos Dependentes De Vítimas Fatais Por Contaminação na Hemodiálise"
							itemValue="89" />
						<f:selectItem
							itemLabel="92- Aposentadoria por Invalidez por Acidente do Trabalho"
							itemValue="92" />
						<f:selectItem
							itemLabel="93- Pensão por Morte por Acidente do Trabalho"
							itemValue="93" />
						<f:selectItem
							itemLabel="94- Auxílio-Acidente por Acidente do Trabalho"
							itemValue="94" />
						<f:selectItem
							itemLabel="96- Pensão Especial para Pessoas Atingidas por Hanseníase"
							itemValue="96" />
					</h:selectOneMenu>
				</div>
			</h:panelGroup>
			<div class="form-group col-md-4">
				<label for="matricula">Matrícula</label>
				<h:inputText value="#{cadContratoMB.contrato.matricula}"
					style="border-color:black;" class="form-control" id="matricula"
					placeholder="UF - RG" />
			</div>
			<div class="form-group col-md-4">
				<label for="senha">Senha</label>
				<h:inputText class="form-control" id="senha"
					style="border-color:black;" value="#{cadContratoMB.contrato.senha}">
				</h:inputText>
			</div>
		</div>
		<br />
		<h6>Dados pessoais</h6>
		<hr />
		<div class="form-row">
			<div class="form-group col-md-5">
				<label for="inputCpf">CPF</label>
				<h:panelGrid columns="2" style="width:100%;">
					<p:inputMask mask="999.999.999-99" id="inputCpf" 
						styleClass="form-control" value="#{cadContratoMB.cpf}" />
					<p:commandLink id="btnCliente" value="Buscar" rendered="false"
						update="inputTipoLogradouro, inputlogradouro, inputNumero, inputComplemento, inputBairro, inputUfEstado, inputNome,
							inputRG, dataNasc, inputOrgaoEmissor, inputufrg, dataEmissao, inputNaturalidade, inputUfNaturalidade, inputnomepai,
							inputnomemae, inputValorSalario, inputResidencial, inputcomercial, inputcelular, nconta, digconta, digagencia, agencia,
							tipoconta, titular, codbanco, growl"
						action="#{cadContratoMB.buscarCliente()}" ajax="false"
						styleClass="btn btn-primary" />
				</h:panelGrid>
			</div>

			<div class="form-group col-md-7">
				<label for="inputNome">Nome</label>
				<h:inputText value="#{cadContratoMB.cliente.nome}"
					style="border-color:black;" class="form-control" id="inputNome"
					placeholder="Nome" />
			</div>
		</div>

		<div class="form-row">
			<div class="form-group col-md-3">
				<label for="dataNasc">Data Nascimento</label>
				<p:calendar locale="pt_BR" pattern="dd/MM/yyyy" size="12"
					value="#{cadContratoMB.cliente.nascimento}" id="dataNasc">
					<f:convertDateTime pattern="dd/MM/yyyy"
						timeZone="America/Sao_Paulo" />
					<p:ajax event="dateSelect" />
					<p:ajax event="blur" />
				</p:calendar>
			</div>
			<div class="form-group col-md-2">
				<label for="inputRG">RG</label>
				<h:inputText value="#{cadContratoMB.cliente.rg}"
					style="border-color:black;" class="form-control" id="inputRG"
					placeholder="RG" />
			</div>
			<div class="form-group col-md-2">
				<label for="inputOrgaoEmissor">Orgão Emissor</label>
				<h:inputText value="#{cadContratoMB.cliente.orgaroemissor}"
					style="border-color:black;" class="form-control"
					id="inputOrgaoEmissor" placeholder="Nome" />
			</div>
			<div class="form-group col-md-2">
				<label for="inputufrg">UF - RG</label>
				<h:inputText value="#{cadContratoMB.cliente.ufrg}"
					style="border-color:black;" class="form-control" id="inputufrg"
					placeholder="UF - RG" />
			</div>
			<div class="form-group col-md-3">
				<label for="inputNaturalidade">Naturalidade</label>
				<h:inputText value="#{cadContratoMB.cliente.naturalidade}"
					style="border-color:black;" class="form-control"
					id="inputNaturalidade" placeholder="Naturalidade" />
			</div>
			<div class="form-group col-md-3">
				<label for="inputUfNaturalidade">UF - Naturalidade</label>
				<h:inputText value="#{cadContratoMB.cliente.ufnaturalidade}"
					class="form-control" id="inputUfNaturalidade"
					style="border-color:black;" placeholder="Estado da Naturalidade" />
			</div>
			<div class="form-group col-md-3">
				<label for="dataEmissao">Data Emissão</label>
				<p:calendar locale="pt_BR" pattern="dd/MM/yyyy" size="11"
					value="#{cadContratoMB.cliente.emissao}" id="dataEmissao">
					<f:convertDateTime pattern="dd/MM/yyyy"
						timeZone="America/Sao_Paulo" />
					<p:ajax event="dateSelect" />
					<p:ajax event="blur" />
				</p:calendar>
			</div>
			<div class="form-group col-md-3">
				<label for="inputResidencial">Residêncial</label>
				<h:inputText value="#{cadContratoMB.cliente.telefoneresidencial}"
					class="form-control" id="inputResidencial"
					style="border-color:black;" placeholder="Telefone Residencial" />
			</div>
			<div class="form-group col-md-3">
				<label for="inputcelular">Celular</label>
				<h:inputText value="#{cadContratoMB.cliente.telefonecelular}"
					style="border-color:black;" class="form-control" id="inputcelular"
					placeholder="Nome Mãe" />
			</div>
		</div>


		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="inputnomepai">Nome Pai</label>
				<h:inputText value="#{cadContratoMB.cliente.nomepai}"
					style="border-color:black;" class="form-control" id="inputnomepai"
					placeholder="Nome Pai" />
			</div>
			<div class="form-group col-md-6">
				<label for="inputnomemae">Noma Mãe</label>
				<h:inputText value="#{cadContratoMB.cliente.nomemae}"
					style="border-color:black;" class="form-control" id="inputnomemae"
					placeholder="Nome Mãe" />
			</div>
		</div>


		<div class="form-row">
			<div class="form-group col-md-3">
				<label for="inputValorSalario">Valor Salário</label>
				<h:inputText value="#{cadContratoMB.cliente.valorsalario}"
					style="border-color:black;" class="form-control"
					id="inputValorSalario" placeholder="Valor de Salário">
					<f:convertNumber locale="pt_BR" minFractionDigits="2" />
				</h:inputText>
			</div>
			<div class="form-group col-md-9">
				<label for="inputEmail">Email</label>
				<h:inputText value="#{cadContratoMB.cliente.email}"
					style="border-color:black;" class="form-control" id="inputEmail" />
			</div>
		</div>

		<br />

		<h6>Endereço</h6>
		<hr />
		<p:messages id="growlCep" showDetail="true" sticky="false"
			closable="true" life="3000" />
		<div class="form-row">
			<div class="form-group col-md-5">
				<label for="inputCEP">CEP</label>

				<h:panelGrid columns="2" style="width:100%;">
					<h:inputText value="#{cadContratoMB.cliente.cep}"
						style="border-color:black;" class="form-control" id="inputCEP"
						placeholder="CEP" />
					<p:commandLink id="btnConfirmar" value="Buscar"
						update=":formulario:inputTipoLogradouro, growlCep" process="@this"
						action="#{cadContratoMB.buscarendereco()}"
						styleClass="btn btn-primary" ajax="false" />
				</h:panelGrid>
			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md-3">
				<label for="inputTipoLogradouro">Tipo Logradouro</label>
				<h:inputText value="#{cadContratoMB.cliente.tipologradouro}"
					class="form-control" id="inputTipoLogradouro"
					style="border-color:black;" placeholder="Tipo Logradouro" />
			</div>
			<div class="form-group col-md-6">
				<label for="inputlogradouro">Logradouro</label>
				<h:inputText value="#{cadContratoMB.cliente.logradouro}"
					style="border-color:black;" class="form-control"
					id="inputlogradouro" placeholder="Logradouro" />
			</div>
			<div class="form-group col-md-3">
				<label for="inputNumero">Número</label>
				<h:inputText value="#{cadContratoMB.cliente.numero}"
					style="border-color:black;" class="form-control" id="inputNumero"
					placeholder="Número" />
			</div>
		</div>


		<div class="form-row">
			<div class="form-group col-md-3">
				<label for="inputComplemento">Complemento</label>
				<h:inputText value="#{cadContratoMB.cliente.complemento}"
					style="border-color:black;" class="form-control"
					id="inputComplemento" placeholder="CEP" />
			</div>
			<div class="form-group col-md-3">
				<label for="inputBairro">Bairro</label>
				<h:inputText value="#{cadContratoMB.cliente.bairro}"
					style="border-color:black;" class="form-control" id="inputBairro"
					placeholder="Bairro" />
			</div>
			<div class="form-group col-md-4">
				<label for="inputCidade">Cidade</label>
				<h:inputText value="#{cadContratoMB.cliente.cidade}"
					style="border-color:black;" class="form-control" id="inputCidade"
					placeholder="Cidade" />
			</div>
			<div class="form-group col-md-2">
				<label for="inputUfEstado">UF - Estado</label>
				<h:inputText value="#{cadContratoMB.cliente.ufestado}"
					style="border-color:black;" class="form-control" id="inputUfEstado"
					placeholder="UF Estado" />
			</div>
		</div>


		<br />

		<h6>Dados Bancarios</h6>
		<hr />
		<div class="form-row">
			<div class="formgroup col-md-12">
				<label style="font-size: 14px;">Recebe por CARTÃO MAGNÉTICO</label>
				<p:selectOneRadio
					value="#{cadContratoMB.dadosbancario.cartaomagnetico}">
					<f:selectItem itemLabel="Sim" itemValue="S" />
					<f:selectItem itemLabel="Não" itemValue="N" />
				</p:selectOneRadio>
			</div>
			<br />
			<div class="form-group col-md-5">
				<label>Banco</label>
				<h:selectOneMenu id="exampleBanco"
					style="width: 100%;border-color:black;" immediate="true"
					value="#{cadContratoMB.bancoDadosBancario}"
					converter="BancoConverter" styleClass="form-control">
					<f:selectItem itemLabel="Selecione" itemValue="0"
						noSelectionOption="true" />
					<f:selectItems value="#{cadContratoMB.listaBanco}"
						var="bancoSelecionado"
						itemLabel="#{bancoSelecionado.codigo} - #{bancoSelecionado.nome}"
						itemValue="#{bancoSelecionado}" />
					<f:attribute name="listaBanco" value="#{cadContratoMB.listaBanco}" />
				</h:selectOneMenu>
			</div>
			<div class="form-group col-md-3">
				<label>Agência</label>
				<h:inputText value="#{cadContratoMB.dadosbancario.agencia}"
					style="border-color:black;" id="agencia" class="form-control"
					placeholder="Agência" />
			</div>
			<div class="form-group col-md-3">
				<label>Dig. Agência</label>
				<h:inputText value="#{cadContratoMB.dadosbancario.digitoagencia}"
					id="digagencia" class="form-control" style="border-color:black;"
					placeholder="Digito da agência" />
			</div>
		</div>

		<div class="form-row">
			<div class="form-group col-md-3">
				<label>Tipo conta</label>
				<h:selectOneMenu style="width: 100%;border-color:black;"
					id="tipoconta" value="#{cadContratoMB.dadosbancario.tipoconta}"
					styleClass="form-control">
					<f:selectItem itemLabel="Conta Salario" itemValue="Conta Salario" />
					<f:selectItem itemLabel="Conta Corrente" itemValue="Conta Corrente" />
					<f:selectItem itemLabel="Conta Poupança" itemValue="Conta Poupança" />
					<f:selectItem itemLabel="Ordem Pagamento"
						itemValue="Ordem Pagamento" />
				</h:selectOneMenu>
			</div>
			<div class="form-group col-md-3">
				<label>N° Conta</label>
				<h:inputText value="#{cadContratoMB.dadosbancario.nconta}"
					style="border-color:black;" id="nconta" class="form-control"
					placeholder="Número da conta" />
			</div>
			<div class="form-group col-md-3">
				<label>Dig. Conta</label>
				<h:inputText value="#{cadContratoMB.dadosbancario.digitoconta}"
					style="border-color:black;" id="digconta" class="form-control"
					placeholder="Digito da conta" />
			</div>
		</div>
		<br />
		<h6>Dados da Operação</h6>
		<hr />


		<h:panelGroup id="idcontratounificacao"
			rendered="#{!cadContratoMB.contrato.tipooperacao.margem}">
			<div class="form-row">
				<div class="form-group col-md-12">
					<label for="dataNasc" style="color: white;">.</label>
					<div>
						<p:outputLabel value="Redução de Parcela ?"
							style="font-size:16px;margen-left:2%;" />
						<p:selectBooleanCheckbox
							value="#{cadContratoMB.contrato.reducaoparcela}" />
					</div>

				</div>
				<div class="form-group col-md-5">
					<label for="inputNome">Banco</label>
					<h:selectOneMenu id="exampleBancoOperacao"
						style="width: 100%;border-color:black;"
						value="#{cadContratoMB.contratounificacao.banco}"
						converter="BancoConverter" styleClass="form-control">
						<f:selectItem itemLabel="Selecione" itemValue="0"
							noSelectionOption="true" />
						<f:selectItems value="#{cadContratoMB.listaBancoOperacao}"
							var="bancoSelecionado" itemLabel="#{bancoSelecionado.nome}"
							itemValue="#{bancoSelecionado}" />
						<f:attribute name="listaBanco"
							value="#{cadContratoMB.listaBancoOperacao}" />
					</h:selectOneMenu>
				</div>
				<div class="form-group col-md-2">
					<label>Parcelas Pagas</label>
					<p:inputText
						value="#{cadContratoMB.contratounificacao.parcelaspagas}"
						style="border-color:black;" immediate="true" id="parcelaspagas"
						class="form-control">
					</p:inputText>
				</div>
				<div class="form-group col-md-2">
					<label>Total Parcelas</label>
					<p:inputText
						value="#{cadContratoMB.contratounificacao.totalparcelas}"
						style="border-color:black;" id="totalparcelas"
						class="form-control">
					</p:inputText>
				</div>
				<div class="form-group col-md-3">
					<label>Contrato Portado</label>
					<h:inputText
						value="#{cadContratoMB.contratounificacao.contratoportado}"
						style="border-color:black;" id="contratoportado"
						class="form-control" placeholder="Contrato Portado">
						<f:convertNumber locale="pt_BR" minFractionDigits="2" />
					</h:inputText>
				</div>
			</div>

			<div class="form-row">
				<div class="form-group col-md-2">
					<label>Parcela</label>
					<h:inputText value="#{cadContratoMB.contratounificacao.parcela}" onkeypress="mascara(this, valor);"
						id="parcela" style="border-color:black;" class="form-control"
						placeholder="Parcela">
						<f:convertNumber locale="pt_BR" minFractionDigits="2" />
					</h:inputText>
				</div>
				<div class="form-group col-md-2">
					<label>Valor Quitar</label>
					<h:inputText
						value="#{cadContratoMB.contratounificacao.valorquitar}"
						style="border-color:black;" id="valorquitar" class="form-control"
						placeholder="Valor Quitar">
						<f:convertNumber locale="pt_BR" minFractionDigits="2" />
					</h:inputText>
				</div>
				<div class="form-group col-md-3">
					<label style="color: white;"></label>
					<div>
						<p:commandLink ajax="false" styleClass="btn btn-primary"
							update="idTabelaUnificacao, idcontratounificacao"
							value="Adicionar" action="#{cadContratoMB.adicionarOperacao()}" />
					</div>
				</div>
			</div>
			<br />
			<br />
			<h:dataTable id="idTabelaUnificacao" var="contrato"
				styleClass="table table-striped table-bordered display"
				value="#{cadContratoMB.listaContratoUnificacao}" cellspacing="0">


				<h:column>
					<f:facet name="header">Banco</f:facet>
					<h:outputText value="#{contrato.banco.nome}" />
				</h:column>
				<h:column>
					<f:facet name="header">Pagas</f:facet>
					<h:outputText value="#{contrato.parcelaspagas}" />
				</h:column>
				<h:column>
					<f:facet name="header">Total</f:facet>
					<h:outputText value="#{contrato.totalparcelas}">
					</h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">Contrato</f:facet>
					<h:outputText value="#{contrato.contratoportado}" />
				</h:column>
				<h:column>
					<f:facet name="header">Parcela</f:facet>
					<h:outputText value="#{contrato.parcela}">
						<f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
					</h:outputText>
				</h:column>
				<h:column>
					<f:facet name="header">Valor Quitar</f:facet>
					<h:outputText value="#{contrato.valorquitar}">
						<f:convertNumber pattern="##,###,###,###.##" minFractionDigits="2" />
					</h:outputText>
				</h:column>
				<h:column>
					<p:commandLink action="#{cadContratoMB.excluirOperacao(rowIx)}"
						update="idTabelaUnificacao" style="text-align: left;color:black;">
						<span data-feather="trash"></span>
					</p:commandLink>
				</h:column>
			</h:dataTable>
		</h:panelGroup>
		<br />
		<p:messages id="growlCoeficiente" showDetail="true" sticky="false"
			life="3000" />
		<div class="form-row">
			<h:panelGroup
				rendered="#{cadContratoMB.contrato.tipooperacao.margem}">
				<div class="form-group col-md-3">
					<label>Margem Utilizada</label>
					<h:inputText value="#{cadContratoMB.contrato.margemutilizada}"
						id="saldoinadimplencia" class="form-control"
						style="border-color:black;" placeholder="Saldo Inadimplência">
						<f:convertNumber locale="pt_BR" minFractionDigits="2" />
					</h:inputText>
				</div>
				<div class="form-group col-md-3">
					<label>Prazo</label>
					<h:inputText value="#{cadContratoMB.contrato.prazo}" id="prazo"
						class="form-control" style="border-color:black;"
						placeholder="Tarifá">
					</h:inputText>
				</div>
			</h:panelGroup>

		</div>
		<br />
		<div class="form-row">

			<div class="form-group col-md-3">
				<label>Valor Liberado</label>
				<h:inputText value="#{cadContratoMB.contrato.valorcliente}"
					style="border-color:black;" id="valorcliente" disabled="true"
					class="form-control" placeholder="Parcela">
					<f:convertNumber locale="pt_BR" minFractionDigits="2" />
				</h:inputText>
			</div>
		</div>

		<br />
		<h6>Outros Informações</h6>
		<hr />
		<div class="form-row">
			<div class="form-group col-md-12">
				<label>Observações</label>
				<h:inputTextarea value="#{cadContratoMB.contrato.observacao}"
					style="border-color:black;" id="observacao" class="form-control"
					placeholder="Observação">
				</h:inputTextarea>
			</div>
		</div>

		<br />
		<h6>Upload dos documentos</h6>
		<hr />

		<div class="form-row">
			<div class="form-group col-md-4">
				<label>Tipo Documento</label>
				<h:selectOneMenu id="tipodocumento" style="width: 100%;"
					immediate="true" value="#{cadContratoMB.tipoarquivo}"
					converter="TipoArquivoConverter" styleClass="form-control">
					<f:selectItem itemLabel="Selecione" itemValue="0"
						noSelectionOption="true" />
					<f:selectItems value="#{cadContratoMB.listaTipoArquivo}"
						var="tipoArquivoSelecionado"
						itemLabel="#{tipoArquivoSelecionado.descricao}"
						itemValue="#{tipoArquivoSelecionado}" />
					<f:attribute name="listaTipoArquivo"
						value="#{cadContratoMB.listaTipoArquivo}" />
					<p:ajax event="blur" />
				</h:selectOneMenu>
			</div>
			<div class="form-group col-md-4">
				<p:fileUpload
					fileUploadListener="#{cadContratoMB.fileUploadListener}"
					label="Anexar Banner" mode="advanced" value="#{cadContratoMB.file}"
					update="growl, idTabelaContrato" auto="true" />
			</div>
			<div class="form-group col-md-3">
				<label>.</label>
				<div>
					<p:commandLink ajax="false" styleClass="btn btn-primary"
						rendered="false" value="Adicionar"
						action="#{cadContratoMB.salvar()}"
						update="idTabelaContrato, growl" />
				</div>
			</div>
		</div>
		<br />
		<h:dataTable id="idTabelaContrato" var="contrato"  rowIndexVar="rowIx"
			styleClass="table table-striped table-bordered display"
			value="#{cadContratoMB.listaContratoArquivo}" cellspacing="0">

			<h:column>
				<f:facet name="header">Data</f:facet>
				<h:outputText value="#{contrato.dataupload}">
					<f:convertDateTime pattern="dd/MM/yyyy"
						timeZone="America/Sao_Paulo" />
				</h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">Documento</f:facet>
				<h:outputText value="#{contrato.tipoarquivo.descricao}">
				</h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">Descrição</f:facet>
				<h:outputText value="#{contrato.nomearquivo}" />
			</h:column>

			<h:column>

				<p:commandLink ajax="false"
					action="#{cadContratoMB.excluirArquivo(rowIx)}"
					style="text-align: left;color:black;" update="idTabelaContrato">
					<span data-feather="trash"></span>
				</p:commandLink>

				<p:commandLink ajax="false"
					action="#{cadContratoMB.baixarArquivoFTP(contrato)}"
					style="text-align: left;color:black;">
					<span data-feather="download"></span>

				</p:commandLink>
			</h:column>
		</h:dataTable>

		<br />
		<hr />
		<div align="center">
			<p:commandLink ajax="false" styleClass="btn btn-primary"
				value="Salvar" action="#{cadContratoMB.salvar()}" />
			<p:commandLink ajax="false" styleClass="btn btn-danger"
				style="margin-left:2%;" value="Cancelar"
				action="#{cadContratoMB.cancelar()}" />
		</div>
		<br />
		<br />

		<script>
		function mascara(o, f) {
			v_obj = o;
			v_fun = f;
			setTimeout(“execmascara()”, 1);
			}

			        function execmascara() {
			          v_obj.value = v_fun(v_obj.value);
			        }

			     function valor(v) {
			    v = v.replace(/\D/g, "");
			    v = v.replace(/[0-9]{15}/, "inválido");
			    v = v.replace(/(\d{1})(\d{11})$/, "$1.$2"); // coloca ponto antes dos
			    // Últimos 11 digitos
			    v = v.replace(/(\d{1})(\d{8})$/, "$1.$2"); // coloca ponto antes dos
			    // Últimos 8 digitos
			    v = v.replace(/(\d{1})(\d{5})$/, "$1.$2"); // coloca ponto antes dos
			    // Últimos 5 digitos
			    v = v.replace(/(\d{1})(\d{1,2})$/, "$1,$2"); // coloca virgula antes dos
			    // Últimos 2 digitos
			    return v;
			}
		
		</script>
	</ui:define>
</ui:composition>
</html>